<html>
    <head>
        <title>Scatterplot example</title>
        <script src="../Scripts/require.js"></script>
        <link type="text/css" rel="stylesheet" href="../styles/kostyles.css" />
    </head>
    <body>
    <h2>Scatterplot</h2>
        <div id="scatterplot" data-bind="scatterplot: data">
            
        </div>
        <script>
            require.config({
                baseUrl: "/Scripts",
                urlArgs: "bust=2" + (new Date()).getTime()
            });

            require(['knockout-3.2.0', 'd3'], function(kol, d3l) {
                ko = kol;
                d3 = d3l;
                require(['KoExtensions/koextbindings', 'KoExtensions/Charts/scatterplot'], function() {
                    var hours = [30, 35, 40, 45, 50, 55, 60, 65, 70];
                    var result = [5, 6, 9, 12, 14, 18, 23, 27, 34, 40];

                    function TestViewModel() {
                        var self = this;
                        self.data = ko.computed(function() {
                            var values = [];
                            var i = 0;
                            for (i = 0; i < hours.length; i++) {
                                values.push({
                                    x: hours[i],
                                    y: result[i]
                                });
                            }
                            return values;
                        });
                    }

                    var vm = new TestViewModel();

                    ko.applyBindings(vm);
                });
            });
        </script>
</body>
</html>